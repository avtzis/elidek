/*
 Navicat MySQL Data Transfer

 Source Server         : ac
 Source Server Type    : MariaDB
 Source Server Version : 100422
 Source Host           : localhost:3306
 Source Schema         : elidek

 Target Server Type    : MariaDB
 Target Server Version : 100422
 File Encoding         : 65001

 Date: 05/06/2022 22:18:52
*/

SET NAMES utf8mb4;
SET FOREIGN_KEY_CHECKS = 0;

-- ----------------------------
-- Table structure for dieuthinsi
-- ----------------------------
DROP TABLE IF EXISTS `dieuthinsi`;
CREATE TABLE `dieuthinsi`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `πολη` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL DEFAULT 'ΑΘΗΝΑ',
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_unique_id_dieu`(`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 8 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of dieuthinsi
-- ----------------------------
BEGIN;
INSERT INTO `dieuthinsi` (`id`, `πολη`) VALUES (1, 'ΑΘΗΝΑ'), (2, 'ΘΕΣΣΑΛΟΝΙΚΗ'), (3, 'ΠΑΤΡΑ'), (4, 'ΗΡΑΚΛΕΙΟ'), (5, 'ΑΛΕΞΑΝΔΡΟΥΠΟΛΗ'), (6, 'ΣΠΑΡΤΗ'), (7, 'ΑΘΗΝΑD');
COMMIT;

-- ----------------------------
-- Table structure for ereunitis
-- ----------------------------
DROP TABLE IF EXISTS `ereunitis`;
CREATE TABLE `ereunitis`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ονομα` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `επωνυμο` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `φυλο` enum('ΑΡΡΕΝ','ΘΗΛΥ','ΑΛΛΟ') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `ημερομηνια_γεννησης` date NOT NULL,
  `ηλικια` int(10) UNSIGNED GENERATED ALWAYS AS (timestampdiff(YEAR,`ημερομηνια_γεννησης`,'2022-06-01')) VIRTUAL,
  `org_id` int(10) UNSIGNED NOT NULL,
  `οργανισμος_ημερομηνια_εναρξης` date NULL DEFAULT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_fk_id_org`(`org_id`) USING BTREE,
  INDEX `idx_id_ereu`(`id`) USING BTREE,
  CONSTRAINT `fk_org_id_ereu` FOREIGN KEY (`org_id`) REFERENCES `organismos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `dob_check` CHECK (`ημερομηνια_γεννησης` < '2004-06-01'),
  CONSTRAINT `start_check` CHECK (`οργανισμος_ημερομηνια_εναρξης` < '2022-06-01')
) ENGINE = InnoDB AUTO_INCREMENT = 101 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of ereunitis
-- ----------------------------
BEGIN;
INSERT INTO `ereunitis` (`id`, `ονομα`, `επωνυμο`, `φυλο`, `ημερομηνια_γεννησης`, `org_id`, `οργανισμος_ημερομηνια_εναρξης`) VALUES (1, 'ΕΥΑΓΓΕΛΟΣ', 'ΑΓΓΕΛΙΔΗΣ', 'ΑΡΡΕΝ', '1985-04-04', 16, '2010-05-16'), (2, 'ΕΥΑΓΓΕΛΙΑ', 'ΑΓΓΕΛΙΝΗ', 'ΘΗΛΥ', '1982-06-23', 17, '2008-09-15'), (3, 'ΙΩΑΝΝΗΣ', 'ΑΓΓΕΛΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1997-07-07', 13, '2018-09-01'), (4, 'ΝΙΚΟΛΑΟΣ', 'ΑΔΑΜΑΝΤΙΑΔΗΣ', 'ΑΡΡΕΝ', '1980-12-15', 18, '2009-06-13'), (5, 'ΜΑΡΙΑ', 'ΑΘΑΝΑΣΙΟΥ', 'ΘΗΛΥ', '1987-10-12', 1, '2010-05-25'), (6, 'ΑΛΕΞΑΝΔΡΑ', 'ΒΟΓΙΑΤΖΙΔΗ', 'ΘΗΛΥ', '1991-08-10', 22, '2011-06-15'), (7, 'ΜΙΧΑΗΛ', 'ΒΡΟΝΤΑΚΗΣ', 'ΑΡΡΕΝ', '1987-04-05', 14, '2020-02-15'), (8, 'ΑΡΓΥΡΟΥΛΑ', 'ΓΑΛΑΝΗ', 'ΘΗΛΥ', '1991-06-22', 9, '2017-09-22'), (9, 'ΘΕΜΙΣ', 'ΒΕΡΡΗ', 'ΘΗΛΥ', '1995-05-01', 24, '2012-10-26'), (10, 'ΧΡΗΣΤΟΣ', 'ΓΕΡΜΑΝΟΣ', 'ΑΡΡΕΝ', '1997-01-05', 22, '2018-08-03'), (11, 'ΞΕΝΟΦΩΝ', 'ΒΟΥΔΟΡΟΓΛΟΥ', 'ΑΡΡΕΝ', '1980-06-13', 21, '2009-10-13'), (12, 'ΠΑΥΛΟΣ', 'ΔΕΛΑΤΟΛΑΣ', 'ΑΡΡΕΝ', '1987-02-09', 1, '2009-08-18'), (13, 'ΙΕΡΩΝΥΜΟΣ', 'ΔΕΛΕΝΔΑΣ', 'ΑΡΡΕΝ', '2001-06-16', 19, '2022-01-02'), (14, 'ΛΕΩΝΙΔΑΣ', 'ΔΗΜΗΤΡΙΑΔΗΣ', 'ΑΡΡΕΝ', '1988-04-11', 9, '2017-06-22'), (15, 'ΑΛΕΞΑΝΔΡΟΣ', 'ΔΙΑΚΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1996-04-13', 20, '2018-06-30'), (16, 'ΓΕΩΡΓΙΟΣ', 'ΔΙΑΦΑΣ', 'ΑΡΡΕΝ', '1982-05-03', 11, '2006-10-21'), (17, 'ΠΑΝΑΓΙΩΤΗΣ', 'ΔΟΥΜΑΝΟΓΛΟΥ', 'ΑΡΡΕΝ', '1988-08-11', 21, '2011-10-26'), (18, 'ΝΙΚΟΛΑΟΣ', 'ΖΟΥΓΑΝΕΛΗΣ', 'ΑΡΡΕΝ', '1995-04-06', 12, '2012-06-04'), (19, 'ΣΩΚΡΑΤΗΣ', 'ΘΕΟΔΟΣΙΟΥ', 'ΑΡΡΕΝ', '1988-08-17', 2, '2006-09-14'), (20, 'ΑΛΕΞΑΝΔΡΟΣ', 'ΘΕΟΔΩΡΙΔΗΣ', 'ΑΡΡΕΝ', '1990-01-05', 14, '2018-06-16'), (21, 'ΑΝΤΩΝΙΑ', 'ΘΩΜΑΠΟΥΛΟΥ', 'ΘΗΛΥ', '1994-09-07', 15, '2020-06-06'), (22, 'ΚΛΕΑΝΘΗΣ', 'ΙΩΑΝΝΙΔΗΣ', 'ΑΡΡΕΝ', '1981-11-17', 10, '2010-03-16'), (23, 'ΠΟΛΥΧΡΟΝΗΣ', 'ΚΑΒΒΑΔΑΣ', 'ΑΡΡΕΝ', '1983-06-21', 5, '2013-09-07'), (24, 'ΧΡΙΣΤΟΦΟΡΟΣ', 'ΤΣΙΛΙΓΓΙΡΗΣ', 'ΑΡΡΕΝ', '1999-07-10', 22, '2021-08-31'), (25, 'ΔΗΜΗΤΡΗΣ', 'ΤΣΙΜΑΡΗΣ', 'ΑΡΡΕΝ', '1999-02-06', 7, '2021-12-22'), (26, 'ΣΤΕΦΑΝΟΣ', 'ΠΑΠΑΜΑΝΩΛΗΣ', 'ΑΡΡΕΝ', '1975-04-04', 17, '2004-08-04'), (27, 'ΑΙΚΑΤΕΡΙΝΗ', 'ΠΑΠΑΝΤΩΝΙΟΥ', 'ΘΗΛΥ', '1976-10-06', 19, '2009-09-27'), (28, 'ΒΑΣΙΛΕΙΟΣ', 'ΠΑΠΑΧΡΗΣΤΕΙΔΗΣ', 'ΑΡΡΕΝ', '1964-07-07', 21, '2009-06-12'), (29, 'ΠΑΝΔΩΡΑ', 'ΠΑΡΑΣΚΕΥΟΠΟΥΛΟΥ', 'ΘΗΛΥ', '1975-11-02', 23, '2007-09-01'), (30, 'ΝΙΚΟΛΑΟΣ', 'ΠΑΡΑΣΧΗΣ', 'ΑΡΡΕΝ', '1979-01-04', 25, '2002-06-24'), (31, 'ΜΑΡΙΑΝΘΗ', 'ΠΑΤΡΩΝΑ', 'ΘΗΛΥ', '1968-08-07', 27, '2004-10-15'), (32, 'ΑΝΝΑ', 'ΠΑΥΛΙΔΟΥ', 'ΘΗΛΥ', '1962-05-22', 29, '1999-06-16'), (33, 'ΚΩΝΣΤΑΝΤΙΝΟΣ', 'ΠΕΡΙΜΕΝΗΣ', 'ΑΡΡΕΝ', '1977-09-24', 30, '2008-10-08'), (34, 'ΡΩΜΥΛΟΣ', 'ΠΟΛΙΤΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1969-03-21', 14, '2000-09-16'), (35, 'ΙΩΑΝΝΗΣ', 'ΠΟΛΥΧΡΟΝΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1967-06-23', 20, '2000-06-15'), (36, 'ΣΙΜΟΣ', 'ΣΙΚΙΑΡΙΔΗΣ', 'ΑΡΡΕΝ', '1973-06-25', 3, '2006-10-28'), (37, 'ΕΥΓΕΝΙΑ', 'ΣΚΑΓΙΑΝΝΗ', 'ΘΗΛΥ', '1978-01-11', 24, '2002-06-18'), (38, 'ΓΕΡΑΣΙΜΟΣ', 'ΣΚΛΑΒΕΝΙΤΗΣ', 'ΑΡΡΕΝ', '1971-08-04', 11, '2007-08-03'), (39, 'ΛΙΖΑ', 'ΣΤΑΒΑΤΟΥ', 'ΘΗΛΥ', '1972-03-06', 1, '2001-09-13'), (40, 'ΣΑΡΛΟΤΤΑ', 'ΣΤΡΑΤΟΥ', 'ΘΗΛΥ', '1980-11-12', 6, '2020-03-01'), (41, 'ΜΗΝΑΣ', 'ΤΑΝΕΣ', 'ΑΡΡΕΝ', '1971-10-31', 15, '2008-04-17'), (42, 'ΕΛΕΝΗ', 'ΤΡΟΥΛΛΙΝΟΥ', 'ΘΗΛΥ', '1962-10-12', 2, '2002-06-02'), (43, 'ΠΑΝΑΓΙΩΤΗΣ', 'ΤΣΑΚΟΣ', 'ΑΡΡΕΝ', '1979-09-21', 26, '2008-02-06'), (44, 'ΔΗΜΗΤΡΙΟΣ', 'ΦΑΚΙΡΗΣ', 'ΑΡΡΕΝ', '1960-04-15', 10, '2003-09-01'), (45, 'ΝΙΚΟΛΑΟΣ', 'ΦΑΚΩΝΑΣ', 'ΑΡΡΕΝ', '1977-03-01', 16, '2004-08-03'), (46, 'ΣΤΑΜΟΣ', 'ΦΑΦΑΛΙΟΣ', 'ΑΡΡΕΝ', '1961-06-27', 17, '2007-06-06'), (47, 'ΑΔΑΜΑΝΤΙΟΣ', 'ΦΛΕΓΓΑΣ', 'ΑΡΡΕΝ', '1975-10-02', 21, '2000-06-17'), (48, 'ΙΩΑΝΝΗΣ', 'ΧΙΩΤΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1963-02-12', 21, '2010-06-18'), (49, 'ΠΕΤΡΟΣ', 'ΨΑΡΡΑΣ', 'ΑΡΡΕΝ', '1960-02-29', 21, '1990-10-01'), (50, 'ΑΡΙΣΤΕΙΔΗΣ', 'ΠΑΠΑΝΔΡΕΟΥ', 'ΑΡΡΕΝ', '1974-09-14', 19, '2004-06-05'), (51, 'ΕΥΑΝΘΙΑ', 'ΚΑΖΗ', 'ΘΗΛΥ', '1989-03-22', 3, '2017-08-19'), (52, 'ΧΑΡΑΛΑΜΠΟΣ', 'ΒΑΡΣΑΜΗΣ', 'ΑΡΡΕΝ', '1998-07-20', 15, '2021-04-13'), (53, 'ΑΛΕΞΑΝΔΡΟΣ', 'ΤΖΑΜΠΑΖΗΣ', 'ΑΡΡΕΝ', '1999-05-21', 6, '2021-09-07'), (54, 'ΙΩΑΝΝΗΣ', 'ΣΑΜΨΑΛΑΚΗΣ', 'ΑΡΡΕΝ', '1999-08-09', 23, '2020-07-21'), (55, 'ΚΑΛΛΙΟΠΗ', 'ΚΑΛΑΦΑΤΗ', 'ΘΗΛΥ', '1994-06-06', 4, '2011-10-12'), (56, 'ΓΡΗΓΟΡΙΟΣ', 'ΚΑΛΛΙΜΑΝΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1981-09-07', 28, '2012-03-14'), (57, 'ΕΥΣΤΡΑΤΙΟΣ', 'ΚΑΛΛΙΤΣΗΣ', 'ΑΡΡΕΝ', '2002-01-18', 8, '2022-05-10'), (58, 'ΡΑΦΑΗΛ', 'ΚΑΛΛΙΤΣΗΣ', 'ΑΡΡΕΝ', '2002-01-18', 8, '2022-05-11'), (59, 'ΓΕΩΡΓΙΟΣ', 'ΚΑΡΑΓΙΑΝΝΗΣ', 'ΑΡΡΕΝ', '1982-03-09', 27, '2006-06-15'), (60, 'ΑΝΕΣΤΗΣ', 'ΠΑΠΑΧΡΗΣΤΟΥ', 'ΑΡΡΕΝ', '1975-04-05', 29, '2017-09-13'), (61, 'ΒΛΑΣΗΣ', 'ΚΑΤΡΑΝΤΖΟΣ', 'ΑΡΡΕΝ', '1985-06-16', 25, '2012-09-07'), (62, 'ΔΗΜΟΣΘΕΝΗΣ', 'ΚΑΤΡΙΤΣΗΣ', 'ΑΡΡΕΝ', '2001-07-06', 30, '2022-03-07'), (63, 'ΜΑΡΙΟΣ', 'ΚΕΧΑΓΙΑΣ', 'ΑΡΡΕΝ', '1991-08-02', 24, '2019-04-19'), (64, 'ΠΛΑΤΩΝ', 'ΚΕΦΑΛΑΣ', 'ΑΡΡΕΝ', '1990-08-10', 26, '2020-06-01'), (65, 'ΣΠΥΡΟΣ', 'ΚΟΚΟΤΟΣ', 'ΑΡΡΕΝ', '1995-06-06', 14, '2015-06-23'), (66, 'ΑΝΤΩΝΙΟΣ', 'ΚΟΣΜΑΤΟΣ', 'ΑΡΡΕΝ', '2001-03-15', 4, '2020-06-21'), (67, 'ΘΕΜΙΣΤΟΚΛΗΣ', 'ΚΟΥΒΑΡΑΚΗΣ', 'ΑΡΡΕΝ', '1989-06-08', 19, '2010-06-01'), (68, 'ΙΑΚΩΒΟΣ', 'ΚΟΥΡΤΕΣΗΣ', 'ΑΡΡΕΝ', '1987-09-16', 3, '2012-06-25'), (69, 'ΜΑΡΙΑ', 'ΣΑΜΑΡΑ', 'ΘΗΛΥ', '1993-04-12', 16, '2019-10-14'), (70, 'ΑΛΕΞΙΟΣ', 'ΤΣΙΠΡΑΣ', 'ΑΡΡΕΝ', '1992-02-07', 21, '2007-09-08'), (71, 'ΙΑΣΩΝ', 'ΚΡΑΛΛΗΣ', 'ΑΡΡΕΝ', '2000-01-05', 17, '2020-03-15'), (72, 'ΔΙΟΝΥΣΙΟΣ', 'ΚΡΗΤΙΚΟΣ', 'ΑΡΡΕΝ', '1985-03-15', 13, '2019-10-19'), (73, 'ΟΔΥΣΣΕΑΣ', 'ΚΥΡΙΑΚΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1987-02-10', 20, '2019-06-23'), (74, 'ΕΡΙΕΤΤΑ', 'ΛΑΤΣΗ', 'ΘΗΛΥ', '1993-06-09', 2, '2017-10-06'), (75, 'ΝΤΑΙΑΝΑ', 'ΛΑΦΟΓΙΑΝΝΗ', 'ΘΗΛΥ', '1993-08-04', 5, '2020-06-30'), (76, 'ΦΩΤΗΣ', 'ΛΥΚΙΑΡΔΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1982-10-14', 28, '2016-06-21'), (77, 'ΝΙΚΟΛΑΟΣ', 'ΜΑΚΡΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1992-09-08', 7, '2011-10-13'), (78, 'ΚΩΝΣΤΑΝΤΙΝΟΣ', 'ΜΑΛΛΙΑΡΗΣ', 'ΑΡΡΕΝ', '1985-09-03', 2, '2009-08-10'), (79, 'ΠΑΝΑΓΙΩΤΗΣ', 'ΜΑΝΑΚΟΣ', 'ΑΡΡΕΝ', '1988-03-08', 4, '2013-06-22'), (80, 'ΛΑΝΑ', 'ΜΑΝΔΥΛΑ', 'ΘΗΛΥ', '1983-08-04', 6, '2018-11-21'), (81, 'ΓΙΩΡΓΟΣ', 'ΜΑΝΕΣΗΣ', 'ΑΡΡΕΝ', '2002-05-25', 8, '2022-02-23'), (82, 'ΣΠΥΡΙΔΩΝ', 'ΜΑΝΤΑΣ', 'ΑΡΡΕΝ', '1999-07-27', 10, '2020-09-15'), (83, 'ΔΗΜΗΤΡΙΟΣ', 'ΜΕΛΙΣΣΑΝΙΔΗΣ', 'ΑΡΡΕΝ', '1996-03-31', 12, '2008-06-22'), (84, 'ΓΙΑΝΝΗΣ', 'ΜΕΝΟΥΔΑΚΟΣ', 'ΑΡΡΕΝ', '1980-08-18', 14, '2018-09-07'), (85, 'ΚΩΝΣΤΑΝΤΙΝΟΣ', 'ΜΕΤΑΛΛΙΝΟΣ', 'ΑΡΡΕΝ', '1998-11-23', 16, '2018-06-24'), (86, 'ΣΠΥΡΙΔΩΝ', 'ΜΕΤΑΞΑΣ', 'ΑΡΡΕΝ', '1993-01-03', 18, '2014-09-01'), (87, 'ΙΟΡΔΑΝΗΣ', 'ΜΗΛΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1993-10-04', 20, '2015-08-02'), (88, 'ΛΕΝΑ', 'ΜΠΑΚΑΚΟΥ', 'ΘΗΛΥ', '1992-09-14', 22, '2005-06-08'), (89, 'ΛΕΑΝΔΡΟΣ', 'ΜΠΑΣΜΠΑΣ', 'ΑΡΡΕΝ', '1987-10-05', 24, '2019-11-30'), (90, 'ΓΕΩΡΓΙΟΣ', 'ΜΠΕΖΕΡΙΑΝΟΣ', 'ΑΡΡΕΝ', '1991-11-05', 26, '2007-01-12'), (91, 'ΙΩΑΝΝΗΣ', 'ΜΠΙΛΙΜΑΤΣΗΣ', 'ΑΡΡΕΝ', '1987-06-25', 28, '2019-06-28'), (92, 'ΖΗΣΗΣ', 'ΜΠΟΥΚΟΥΒΑΛΑΣ', 'ΑΡΡΕΝ', '1995-09-01', 30, '2014-03-21'), (93, 'ΙΑΚΩΒΙΝΑ', 'ΜΠΟΛΑΝΗ', 'ΘΗΛΥ', '1990-09-09', 1, '2013-06-14'), (94, 'ΗΛΙΑΣ', 'ΜΠΡΕΖΑΤΗΣ', 'ΑΡΡΕΝ', '1992-09-15', 3, '2018-09-22'), (95, 'ΙΟΥΛΙΟΥΣ', 'ΝΕΖΕΡ', 'ΑΡΡΕΝ', '1996-11-19', 5, '2020-09-08'), (96, 'ΦΙΛΙΠΠΟΣ', 'ΝΙΚΟΛΙΤΣΑΣ', 'ΑΡΡΕΝ', '1997-02-23', 7, '2021-06-19'), (97, 'ΝΙΚΗΤΑΣ', 'ΝΙΚΗΤΑΚΟΣ', 'ΑΡΡΕΝ', '1997-10-29', 9, '2021-12-07'), (98, 'ΕΜΜΑΝΟΥΗΛ', 'ΞΕΝΑΚΗΣ', 'ΑΡΡΕΝ', '1986-09-14', 11, '2010-07-20'), (99, 'ΧΡΗΣΤΟΣ', 'ΟΙΚΟΝΟΜΟΥ', 'ΑΡΡΕΝ', '1979-07-18', 13, '2001-12-03'), (100, 'ΔΕΣΠΟΙΝΑ', 'ΠΑΝΑΓΙΩΤΟΥ', 'ΘΗΛΥ', '1970-09-16', 15, '2006-09-07');
COMMIT;

-- ----------------------------
-- Table structure for ergo
-- ----------------------------
DROP TABLE IF EXISTS `ergo`;
CREATE TABLE `ergo`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `τιτλος` varchar(155) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `περιληψη` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `ημερομηνια_εναρξης` date NOT NULL DEFAULT curdate(),
  `ημερομηνια_ληξης` date NULL DEFAULT NULL,
  `διαρκεια` int(10) UNSIGNED GENERATED ALWAYS AS (timestampdiff(YEAR,`ημερομηνια_εναρξης`,ifnull(`ημερομηνια_ληξης`,'2022-06-01'))) VIRTUAL,
  `ενεργο` tinyint(1) GENERATED ALWAYS AS (`ημερομηνια_ληξης` is null) VIRTUAL,
  `υπευθυνος_id` int(10) UNSIGNED NOT NULL,
  `αξιολογητης_id` int(10) UNSIGNED NOT NULL,
  `βαθμος_αξιολογησης` int(10) UNSIGNED NOT NULL,
  `ημερομηνια_αξιολογησης` date NOT NULL DEFAULT curdate(),
  `stel_id` int(10) UNSIGNED NOT NULL,
  `org_id` int(10) UNSIGNED NOT NULL,
  `prog_id` int(10) UNSIGNED NOT NULL,
  `ποσο_επιχορηγησης` int(10) UNSIGNED NOT NULL DEFAULT 100000,
  PRIMARY KEY (`id`) USING BTREE,
  INDEX `idx_fk_id_stel`(`stel_id`) USING BTREE,
  INDEX `idx_fk_id_org`(`org_id`) USING BTREE,
  INDEX `idx_fk_id_prog`(`prog_id`) USING BTREE,
  INDEX `idx_fk_id_upeu`(`υπευθυνος_id`) USING BTREE,
  INDEX `idx_fk_id_axiol`(`αξιολογητης_id`) USING BTREE,
  INDEX `idx_id_ergo`(`id`) USING BTREE,
  CONSTRAINT `fk_id_axiol` FOREIGN KEY (`αξιολογητης_id`) REFERENCES `ereunitis` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_id_org` FOREIGN KEY (`org_id`) REFERENCES `organismos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_id_prog` FOREIGN KEY (`prog_id`) REFERENCES `programma` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_id_stel` FOREIGN KEY (`stel_id`) REFERENCES `stelexos` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_id_upeu` FOREIGN KEY (`υπευθυνος_id`) REFERENCES `ereunitis` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `date1_check` CHECK (`ημερομηνια_εναρξης` <= '2022-06-01'),
  CONSTRAINT `date2_check` CHECK (`ημερομηνια_ληξης` > `ημερομηνια_εναρξης`),
  CONSTRAINT `grade_check` CHECK (`βαθμος_αξιολογησης` <= 100),
  CONSTRAINT `date3_check` CHECK (`ημερομηνια_αξιολογησης` <= `ημερομηνια_εναρξης`),
  CONSTRAINT `amount_check` CHECK (`ποσο_επιχορηγησης` >= 100000 and `ποσο_επιχορηγησης` <= 1000000),
  CONSTRAINT `ereu_check` CHECK (`υπευθυνος_id` <> `αξιολογητης_id`)
) ENGINE = InnoDB AUTO_INCREMENT = 87 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of ergo
-- ----------------------------
BEGIN;
INSERT INTO `ergo` (`id`, `τιτλος`, `περιληψη`, `ημερομηνια_εναρξης`, `ημερομηνια_ληξης`, `υπευθυνος_id`, `αξιολογητης_id`, `βαθμος_αξιολογησης`, `ημερομηνια_αξιολογησης`, `stel_id`, `org_id`, `prog_id`, `ποσο_επιχορηγησης`) VALUES (1, 'ΜΕΡΟΛΗΨΙΑ FUTON', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2022-01-19', NULL, 15, 59, 19, '2015-06-01', 6, 11, 1, 100000), (2, 'ΑΠΟΛΥΤΟΣ ΚΙΝΔΥΝΟΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2022-02-21', NULL, 38, 66, 14, '2015-06-01', 10, 21, 13, 200000), (3, 'ΔΕΙΚΤΗΣ ΔΗΜΟΚΡΑΤΙΚΟΤΗΤΑΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2022-03-13', NULL, 25, 61, 65, '2015-06-01', 12, 16, 2, 300000), (4, 'ΔΕΙΚΤΗΣ ΕΚΠΑΙΔΕΥΣΗΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-12-10', NULL, 6, 47, 87, '2015-06-01', 13, 17, 12, 400000), (5, 'ΔΙΑΚΗΡΥΞΗ ΤΟΥ ΕΛΣΙΝΚΙ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2022-04-03', NULL, 8, 27, 23, '2015-06-01', 10, 18, 20, 500000), (6, 'ΕΓΧΕΙΡΙΔΙΟ FRASCATI', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-11-14', NULL, 15, 6, 56, '2015-06-01', 4, 1, 18, 600000), (7, 'ΕΠΙΠΤΩΣΗ ΕΠΙΔΗΜΙΟΛΟΓΙΑΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-10-29', NULL, 16, 20, 45, '2015-06-01', 1, 19, 17, 700000), (8, 'ΕΠΙΠΟΛΑΣΜΟΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-09-08', NULL, 21, 15, 89, '2015-06-01', 15, 9, 27, 800000), (9, 'ΘΝΗΣΙΜΟΤΗΤΑ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-08-28', NULL, 25, 70, 54, '2015-06-01', 5, 20, 4, 900000), (10, 'ΘΝΗΤΟΤΗΤΑ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-07-11', NULL, 27, 60, 16, '2015-06-01', 12, 11, 3, 1000000), (11, 'ΚΑΤΑΣΤΗΜΑΤΑ ΕΠΙΣΤΗΜΗΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-06-15', NULL, 32, 21, 15, '2015-06-01', 6, 21, 5, 1000000), (12, 'ΛΟΓΟΣ ΑΠΟΔΟΣΗΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-05-11', NULL, 38, 66, 65, '2015-06-01', 8, 12, 6, 1000000), (13, 'ΜΕΛΕΤΗ ΠΑΣΧΟΝΤΩΝ-ΜΑΡΤΥΡΩΝ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-04-25', NULL, 44, 8, 8, '2015-06-01', 14, 2, 7, 1000000), (14, 'ΜΕΡΟΛΗΠΤΙΚΗ ΔΗΜΟΣΙΕΥΣΗ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-03-07', NULL, 47, 50, 50, '2015-06-01', 9, 14, 13, 1000000), (15, 'ΜΕΤΑΔΙΔΑΚΤΟΡΙΚΟΣ ΣΥΝΕΡΓΑΤΗΣ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-02-27', NULL, 50, 28, 28, '2015-06-01', 14, 15, 25, 1000000), (16, 'ΜΕΤΑΕΠΙΣΤΗΜΗ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2021-01-28', NULL, 53, 61, 16, '2015-06-01', 11, 22, 29, 100000), (17, 'ΠΕΝΤΕ W', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακριά.', '2020-12-31', NULL, 56, 38, 38, '2015-06-01', 1, 3, 14, 100000), (18, 'ΕΡΓΟ18', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 10, 20, 21, 1000000), (19, 'ΕΡΓΟ19', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 1, 18, 1000000), (20, 'ΕΡΓΟ20', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 15, 14, 6, 100000), (21, 'ΕΡΓΟ21', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 9, 22, 29, 100000), (22, 'ΕΡΓΟ22', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 6, 2, 13, 100000), (23, 'ΕΡΓΟ23', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 10, 8, 100000), (24, 'ΕΡΓΟ24', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 13, 9, 7, 100000), (25, 'ΕΡΓΟ25', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 11, 3, 600000), (26, 'ΕΡΓΟ26', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 19, 29, 500000), (27, 'ΕΡΓΟ27', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 6, 11, 3, 400000), (28, 'ΕΡΓΟ28', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 2, 16, 300000), (29, 'ΕΡΓΟ29', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 1, 12, 6, 300000), (30, 'ΕΡΓΟ30', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και πέταξε μακρια.', '2019-06-01', NULL, 12, 21, 100, '2015-06-01', 10, 17, 16, 200000), (31, 'ΕΡΓΟ31', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 4, 20, 4, 100000), (32, 'ΕΡΓΟ32', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 15, 20, 27, 100000), (33, 'ΕΡΓΟ33', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 12, 11, 27, 100000), (34, 'ΕΡΓΟ34', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 1, 9, 27, 100000), (35, 'ΕΡΓΟ35', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 8, 21, 4, 100000), (36, 'ΕΡΓΟ36', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 6, 11, 17, 100000), (37, 'ΕΡΓΟ37', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 14, 21, 4, 100000), (38, 'ΕΡΓΟ38', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 3, 11, 18, 100000), (39, 'ΕΡΓΟ39', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 3, 9, 21, 100000), (40, 'ΕΡΓΟ40', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 3, 21, 9, 100000), (41, 'ΕΡΓΟ41', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 10, 21, 18, 100000), (42, 'ΕΡΓΟ42', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 10, 21, 6, 100000), (43, 'ΕΡΓΟ43', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 15, 22, 5, 100000), (44, 'ΕΡΓΟ44', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 5, 8, 6, 100000), (45, 'ΕΡΓΟ45', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 6, 12, 11, 100000), (46, 'ΕΡΓΟ46', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 14, 12, 15, 100000), (47, 'ΕΡΓΟ47', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2012-06-08', '2016-06-08', 12, 21, 55, '2012-06-01', 15, 2, 21, 100000), (48, 'ΜΠΛΕ ΖΩΝΗ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2015-06-18', '2018-06-12', 50, 90, 100, '2012-06-15', 10, 21, 4, 1000000), (49, 'ΞΕΝΟΜΕΤΑΜΟΣΧΕΥΣΗ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2018-06-28', '2020-06-01', 47, 53, 100, '2014-06-18', 3, 20, 5, 1000000), (50, 'ΚΡΥΟΓΟΝΙΚΗ', 'ΛΥΠΟΥΜΑΣΤΕ, η περίληψη έβγαλε φτερά και έφυγε μακρια', '2014-06-10', '2015-06-16', 6, 27, 100, '2013-06-13', 1, 22, 7, 100000), (68, 'ergo1', NULL, '2022-06-01', NULL, 12, 21, 1, '2020-06-05', 4, 1, 2, 100000), (69, 'ergo2', NULL, '2022-06-01', NULL, 12, 21, 12, '2020-06-05', 6, 1, 18, 100000), (70, 'ergo3', NULL, '2022-06-01', NULL, 12, 21, 12, '2020-06-05', 8, 1, 17, 100000), (71, 'ergo4', NULL, '2022-06-01', NULL, 12, 21, 12, '2020-06-05', 4, 1, 6, 100000), (72, 'ergo5', NULL, '2022-06-01', NULL, 12, 21, 12, '2020-06-05', 9, 1, 18, 100000), (73, 'ergo6', NULL, '2022-06-01', NULL, 12, 21, 12, '2020-06-05', 8, 1, 3, 100000), (74, 'ergo7', NULL, '2022-06-01', NULL, 12, 21, 12, '2021-06-05', 1, 1, 5, 100000), (75, 'ergo8', NULL, '2022-06-01', NULL, 12, 21, 12, '2021-06-05', 4, 1, 22, 100000), (76, 'ergo9', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 9, 1, 17, 100000), (77, 'ergo10', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 1, 1, 9, 100000), (78, 'ergo11', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 9, 1, 21, 100000), (79, 'ergo12', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 1, 1, 5, 100000), (80, 'ergo13', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 6, 1, 17, 100000), (81, 'ergo14', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 10, 1, 4, 100000), (82, 'ergo15', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 3, 1, 21, 100000), (83, 'ergo16', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 8, 1, 18, 100000), (84, 'ergo17', NULL, '2021-06-05', NULL, 12, 21, 12, '2021-06-05', 3, 1, 5, 100000), (85, 'ergo69', NULL, '2022-06-01', NULL, 12, 21, 12, '2022-06-01', 9, 1, 3, 100000), (86, 'ergo420', NULL, '2022-06-01', NULL, 12, 21, 12, '2022-06-01', 15, 1, 7, 100000);
COMMIT;

-- ----------------------------
-- Table structure for ergo_ereu
-- ----------------------------
DROP TABLE IF EXISTS `ergo_ereu`;
CREATE TABLE `ergo_ereu`  (
  `ergo_id` int(10) UNSIGNED NOT NULL,
  `ereu_id` int(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`ergo_id`, `ereu_id`) USING BTREE,
  INDEX `idx_fk_id_ergo`(`ergo_id`) USING BTREE,
  INDEX `idx_fk_id_ereu`(`ereu_id`) USING BTREE,
  CONSTRAINT `fk_id_ereu_` FOREIGN KEY (`ereu_id`) REFERENCES `ereunitis` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_id_ergo_` FOREIGN KEY (`ergo_id`) REFERENCES `ergo` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of ergo_ereu
-- ----------------------------
BEGIN;
INSERT INTO `ergo_ereu` (`ergo_id`, `ereu_id`) VALUES (1, 44), (1, 51), (2, 1), (2, 3), (2, 9), (2, 15), (2, 52), (2, 89), (3, 1), (3, 2), (3, 4), (3, 8), (3, 10), (3, 11), (3, 16), (3, 53), (3, 100), (4, 2), (4, 3), (4, 5), (4, 12), (4, 17), (4, 18), (4, 54), (5, 4), (5, 6), (5, 13), (5, 19), (5, 55), (6, 5), (6, 7), (6, 14), (6, 20), (6, 56), (7, 23), (7, 37), (7, 42), (7, 44), (7, 56), (7, 57), (7, 69), (7, 89), (8, 36), (8, 58), (9, 23), (9, 38), (9, 42), (9, 44), (9, 56), (9, 59), (9, 69), (9, 89), (10, 39), (10, 60), (11, 40), (11, 61), (12, 42), (12, 62), (13, 43), (13, 63), (14, 23), (14, 42), (14, 44), (14, 45), (14, 56), (14, 64), (14, 69), (14, 89), (15, 46), (15, 65), (16, 47), (16, 66), (17, 23), (17, 42), (17, 44), (17, 50), (17, 67), (17, 69), (17, 89), (18, 6), (18, 68), (19, 7), (19, 69), (20, 8), (20, 70), (21, 9), (21, 71), (21, 72), (22, 10), (22, 73), (23, 11), (23, 74), (24, 12), (24, 75), (25, 13), (25, 76), (26, 14), (26, 77), (27, 15), (27, 78), (28, 16), (28, 79), (29, 17), (29, 80), (30, 18), (30, 81), (31, 19), (31, 82), (31, 99), (32, 20), (32, 83), (33, 21), (33, 84), (34, 22), (34, 85), (35, 23), (35, 86), (36, 24), (36, 87), (37, 25), (37, 88), (38, 26), (38, 89), (39, 27), (39, 90), (40, 28), (40, 91), (41, 29), (41, 92), (42, 30), (42, 93), (43, 31), (43, 94), (44, 32), (44, 95), (45, 33), (45, 96), (46, 34), (46, 97), (47, 35), (47, 98), (48, 23), (48, 42), (48, 44), (48, 48), (48, 56), (48, 69), (48, 89), (49, 23), (49, 42), (49, 44), (49, 49), (49, 56), (49, 69), (49, 89), (50, 23), (50, 41), (50, 42), (50, 44), (50, 89);
COMMIT;

-- ----------------------------
-- Table structure for ergo_pedio
-- ----------------------------
DROP TABLE IF EXISTS `ergo_pedio`;
CREATE TABLE `ergo_pedio`  (
  `ergo_id` int(10) UNSIGNED NOT NULL,
  `pedio_id` int(10) UNSIGNED NOT NULL,
  `θεματικη_περιοχη` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  PRIMARY KEY (`ergo_id`, `pedio_id`) USING BTREE,
  INDEX `idx_fk_id_ergo`(`ergo_id`) USING BTREE,
  INDEX `idx_fk_id_pedio`(`pedio_id`) USING BTREE,
  CONSTRAINT `fk_ergo_id__` FOREIGN KEY (`ergo_id`) REFERENCES `ergo` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `fk_pedio_id__` FOREIGN KEY (`pedio_id`) REFERENCES `pedio` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of ergo_pedio
-- ----------------------------
BEGIN;
INSERT INTO `ergo_pedio` (`ergo_id`, `pedio_id`, `θεματικη_περιοχη`) VALUES (1, 16, 'ΘΕΜΑ39'), (2, 1, 'ΘΕΜΑ1'), (3, 2, 'ΘΕΜΑ2'), (4, 3, 'ΘΕΜΑ3'), (5, 1, 'ΘΕΜΑ51'), (5, 4, 'ΘΕΜΑ4'), (6, 2, 'ΘΕΜΑ52'), (6, 5, 'ΘΕΜΑ5'), (7, 3, 'ΘΕΜΑ53'), (7, 17, 'ΘΕΜΑ40'), (8, 4, 'ΘΕΜΑ54'), (8, 15, 'ΘΕΜΑ41'), (9, 5, 'ΘΕΜΑ55'), (9, 16, 'ΘΕΜΑ42'), (10, 1, 'ΘΕΜΑ511'), (10, 4, 'ΘΕΜΑ522'), (10, 6, 'ΘΕΜΑ56'), (10, 19, 'ΘΕΜΑ43'), (11, 7, 'ΘΕΜΑ57'), (11, 20, 'ΘΕΜΑ44'), (12, 1, 'ΘΕΜΑ45'), (12, 8, 'ΘΕΜΑ48'), (13, 2, 'ΘΕΜΑ46'), (13, 9, 'ΘΕΜΑ59'), (14, 3, 'ΘΕΜΑ47'), (14, 10, 'ΘΕΜΑ60'), (15, 4, 'ΘΕΜΑ48'), (15, 11, 'ΘΕΜΑ61'), (16, 5, 'ΘΕΜΑ49'), (17, 1, 'ΘΕΜΑ50'), (18, 6, 'ΘΕΜΑ6'), (19, 7, 'ΘΕΜΑ7'), (20, 8, 'ΘΕΜΑ8'), (21, 9, 'ΘΕΜΑ9'), (22, 10, 'ΘΕΜΑ10'), (23, 11, 'ΘΕΜΑ11'), (24, 12, 'ΘΕΜΑ12'), (25, 13, 'ΘΕΜΑ13'), (26, 14, 'ΘΕΜΑ14'), (27, 15, 'ΘΕΜΑ15'), (28, 16, 'ΘΕΜΑ16'), (29, 16, 'ΘΕΜΑ17'), (30, 17, 'ΘΕΜΑ18'), (31, 18, 'ΘΕΜΑ19'), (32, 20, 'ΘΕΜΑ21'), (33, 10, 'ΘΕΜΑ22'), (33, 19, 'ΘΕΜΑ20'), (34, 1, 'ΘΕΜΑ23'), (35, 2, 'ΘΕΜΑ24'), (36, 3, 'ΘΕΜΑ25'), (37, 4, 'ΘΕΜΑ26'), (38, 5, 'ΘΕΜΑ27'), (39, 6, 'ΘΕΜΑ28'), (40, 7, 'ΘΕΜΑ29'), (40, 12, 'ΘΕΜΑ62'), (41, 13, 'ΘΕΜΑ63'), (42, 8, 'ΘΕΜΑ30'), (42, 14, 'ΘΕΜΑ64'), (43, 9, 'ΘΕΜΑ31'), (43, 15, 'ΘΕΜΑ65'), (44, 10, 'ΘΕΜΑ32'), (45, 1, 'ΘΕΜΑ33'), (46, 11, 'ΘΕΜΑ34'), (47, 12, 'ΘΕΜΑ35'), (48, 13, 'ΘΕΜΑ36'), (49, 14, 'ΘΕΜΑ37'), (50, 15, 'ΘΕΜΑ38');
COMMIT;

-- ----------------------------
-- Table structure for organismos
-- ----------------------------
DROP TABLE IF EXISTS `organismos`;
CREATE TABLE `organismos`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `συντομογραφια` char(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `ονομα` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `οδος` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `αριθμος` int(10) UNSIGNED NULL DEFAULT NULL,
  `ταχ_κωδικας` int(10) UNSIGNED NULL DEFAULT NULL,
  `πολη` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `τυπος` enum('ΠΑΝΕΠΙΣΤΗΜΙΟ','ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ','ΕΤΑΙΡΙΑ') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `ιδια_κεφαλαια` int(11) NULL DEFAULT 0,
  `προυπ_υπουργειο` int(11) NULL DEFAULT 0,
  `προυπ_ιδιωτ` int(11) NULL DEFAULT 0,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_unique_id_org`(`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 31 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of organismos
-- ----------------------------
BEGIN;
INSERT INTO `organismos` (`id`, `συντομογραφια`, `ονομα`, `οδος`, `αριθμος`, `ταχ_κωδικας`, `πολη`, `τυπος`, `ιδια_κεφαλαια`, `προυπ_υπουργειο`, `προυπ_ιδιωτ`) VALUES (1, 'ΔΙΑΣ', 'ΔΙΑΔΡΑΣΤΙΚΗ ΑΣΤΡΟΝΟΜΙΑ', 'ΝΙΣΥΡΟΥ', 45, 41066, 'ΛΑΡΙΣΑ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 415000, 300000), (2, 'ΕΟΣΑ', 'ΕΥΡΩΠΑΪΚΟΣ ΟΡΓΑΝΙΣΜΟΣ ΓΙΑ ΤΙΣ ΣΠΑΝΙΕΣ ΑΣΘΕΝΕΙ', 'ΠΑΓΚΑΚΗ', 41, 27059, 'ΗΛΕΙΑ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 95000, 110000), (3, 'ΝΑΖΑΡ', 'ΝΑΖΑΡΗΝΗ ΣΧΟΛΗ', 'ΠΑΡΟΡΙΤΗ', 5, 38012, 'ΒΟΛΟΣ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 930000, 0), (4, 'ΣΕΗ', 'ΣΩΜΑΤΕΙΟ ΕΛΛΗΝΩΝ ΗΘΟΠΟΙΩΝ', 'ΜΕΓΑΛΟΥ ΑΛΕΞΑΝΔΡΟΥ', 33, 29050, 'ΖΑΚΥΝΘΟΣ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 150000, 450000), (5, 'ΚΟΜΟΛ', 'ΚΟΣΜΟΜΟΛ', 'ΜΕΓΑΣΘΕΝΟΥΣ', 29, 46008, 'ΘΕΣΠΡΩΤΙΑ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 375000, 400000), (6, 'ΟΝΕ', 'ΟΙΚΟΝΟΜΙΚΗ ΚΑΙ ΝΟΜΙΣΜΑΤΙΚΗ ΕΝΩΣΗ', 'ΜΗΤΡΟΠΕΡΟΒΑ', 24, 33038, 'ΦΩΚΙΔΑ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 450000, 275000), (7, 'ΜΠΕΝΕ', 'ΜΠΕΝΕΛΟΥΞ', 'ΛΕΩΦΟΡΟΣ ΒΑΣΙΛΙΣΣΗΣ ΟΛΓΑΣ', 97, 26050, 'ΠΑΤΡΑ', 'ΕΤΑΙΡΙΑ', 420000, 0, 0), (8, 'ΣΣΚ', 'ΣΥΜΒΟΥΛΙΟ ΣΥΝΕΡΓΑΣΙΑΣ ΤΟΥ ΚΟΛΠΟΥ', 'ΚΥΝΙΣΚΑΣ', 57, 68014, 'ΕΒΡΟΣ', 'ΕΡΕΥΝΗΤΙΚΟ ΚΕΝΤΡΟ', 0, 540000, 260000), (9, 'ΕΑΜ', 'ΕΤΑΙΡΙΑ ΑΙΟΛΙΚΩΝ ΜΕΛΕΤΩΝ', 'ΛΑΖΑΙΩΝ', 8, 65037, 'ΚΑΒΑΛΑ', 'ΕΤΑΙΡΙΑ', 520000, 0, 0), (10, 'ΚΟΙΕΤ', 'ΚΟΙΝΩΝΙΟΛΟΓΙΚΗ ΕΤΑΙΡΕΙΑ', 'ΚΑΛΛΙΜΑΧΟΥ', 97, 71040, 'ΗΡΑΚΛΕΙΟ', 'ΕΤΑΙΡΙΑ', 650000, 0, 0), (11, 'ΕΛΜΑΕ', 'ΕΛΛΗΝΙΚΗ ΜΑΘΗΜΑΤΙΚΗ ΕΤΑΙΡΕΙΑ', 'ΕΠΙΚΑΛΕΥΣΤΗ ΑΣΠΡΟΓΕΡΑΚΑ', 23, 16121, 'ΑΘΗΝΑ', 'ΕΤΑΙΡΙΑ', 950000, 0, 0), (12, 'ΕΜΑΣΠ', 'ΕΤΑΙΡΕΙΑ ΜΑΚΕΔΟΝΙΚΩΝ ΣΠΟΥΔΩΝ', 'ΕΠΙΝΙΚΟΥ', 88, 63003, 'ΧΑΛΚΙΔΙΚΗ', 'ΕΤΑΙΡΙΑ', 750000, 0, 0), (13, 'ΓΕΦΕ', 'ΓΕΡΜΑΝΙΚΗ ΦΥΣΙΚΗ ΕΤΑΙΡΕΙΑ', 'ΘΕΣΠΙΔΟΣ', 23, 61028, 'ΚΙΛΚΙΣ', 'ΕΤΑΙΡΙΑ', 675000, 0, 0), (14, 'ΙΑΕΕΛ', 'ΙΣΤΟΡΙΚΗ ΑΡΧΑΙΟΛΟΓΙΚΗ ΕΤΑΙΡΕΙΑ ΤΗΣ ΕΛΛΑΔΟΣ', 'ΚΟΡΑΗ ΑΔΑΜΑΝΤΙΟΥ', 91, 73088, 'ΧΑΝΙΑ', 'ΕΤΑΙΡΙΑ', 800000, 0, 0), (15, 'ΙΔΩΝΑ', 'ΙΔΡΥΜΑ ΩΝΑΣΗ', 'ΛΕΩΦΟΡΟΣ ΣΥΓΓΡΟΥ', 107, 11745, 'ΑΘΗΝΑ', 'ΕΤΑΙΡΙΑ', 1000000, 0, 0), (16, 'ΑΣΚΤ', 'ΑΝΩΤΑΤΗ ΣΧΟΛΗ ΚΑΛΩΝ ΤΕΧΝΩΝ', 'ΠΕΙΡΑΙΩΣ', 256, 18233, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 495000, 0), (17, 'ΑΠΘ', 'ΑΡΙΣΤΟΤΕΛΕΙΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΘΕΣΣΑΛΟΝΙΚΗΣ', 'ΠΑΝΕΠΙΣΤΗΜΙΟΥΠΟΛΗ', NULL, 54124, 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 980000, 0), (18, 'ΓΠΘ', 'ΓΕΩΠΟΝΙΚΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΑΘΗΝΩΝ', 'ΙΕΡΑ ΟΔΟΣ', 75, 11855, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 760000, 0), (19, 'ΔΠΘ', 'ΔΗΜΟΚΡΙΤΕΙΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΞΑΝΘΗΣ', 'ΠΑΝΕΠΙΣΤΗΜΙΟΥΠΟΛΗ', NULL, 67100, 'ΞΑΝΘΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 21500, 0), (20, 'ΕΚΠΑ', 'ΕΘΝΙΚΟ ΚΑΙ ΚΑΠΟΔΙΣΤΡΙΑΚΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΑΘΗΝΩΝ', 'ΠΑΝΕΠΙΣΤΗΜΙΟΥ', 30, 10679, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 700000, 0), (21, 'ΕΜΠ', 'ΕΘΝΙΚΟ ΜΕΤΣΟΒΙΟ ΠΟΛΥΤΕΧΝΕΙΟ', 'ΠΑΤΗΣΙΩΝ', 42, 10682, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 990000, 0), (22, 'ΙΟΝΙΟ', 'ΙΟΝΙΟ ΠΑΝΕΠΙΣΤΗΜΙΟ', 'ΙΩΑΝΝΟΥ ΘΕΟΤΟΚΗ', 72, 49100, 'ΚΕΡΚΥΡΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 780000, 0), (23, 'ΟΠΑ', 'ΟΙΚΟΝΟΜΙΚΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΑΘΗΝΩΝ', 'ΠΑΤΗΣΙΩΝ', 76, 10434, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 192000, 0), (24, 'ΠΑΝΑΙ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ ΑΙΓΑΙΟΥ', 'ΛΟΦΟΣ ΠΑΝΕΠΙΣΤΗΜΙΟΥ', NULL, 81100, 'ΜΥΤΙΛΗΝΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 235000, 0), (25, 'ΠΑΔΜ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ ΔΥΤΙΚΗΣ ΜΑΚΕΔΟΝΙΑΣ', 'ΚΟΙΛΑ', NULL, 50100, 'ΚΟΖΑΝΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 950000, 0), (26, 'ΠΑΝΤ', 'ΠΑΝΤΕΙΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΚΟΙΝΩΝΙΚΩΝ ΚΑΙ ΠΟΛΙΤΙΚΩΝ', 'ΛΕΩΦΟΡΟΣ ΣΥΓΓΡΟΥ', 136, 17671, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 500000, 0), (27, 'ΧΑΡΠΑ', 'ΧΑΡΟΚΟΠΕΙΟ ΠΑΝΕΠΙΣΤΗΜΙΟ ΟΙΚΙΑΚΗΣ ΟΙΚΟΝΟΜΙΑΣ', 'ΕΛΕΥΘΕΡΙΟΥ ΒΕΝΙΖΕΛΟΥ', 70, 17676, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 890000, 0), (28, 'ΣΣΑΣ', 'ΣΤΡΑΤΙΩΤΙΚΗ ΣΧΟΛΗ ΑΞΙΟΜΑΤΙΚΩΝ ΣΩΜΑΤΩΝ', 'ΠΛΗΘΩΝΟΣ ΓΕΜΙΣΤΟΥ', 2, 54638, 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 520000, 0), (29, 'ΠΑΔΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ ΔΥΤΙΚΗΣ ΑΤΤΙΚΗΣ', 'ΛΕΩΦΟΡΟΥ ΑΛΕΞΑΝΔΡΑΣ', 196, 11521, 'ΑΘΗΝΑ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 123000, 0), (30, 'ΠΑΜΑΚ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ ΜΑΚΕΔΟΝΙΑΣ', 'ΕΓΝΑΤΙΑ', 156, 54636, 'ΘΕΣΣΑΛΟΝΙΚΗ', 'ΠΑΝΕΠΙΣΤΗΜΙΟ', 0, 920000, 0);
COMMIT;

-- ----------------------------
-- Table structure for paradoteo
-- ----------------------------
DROP TABLE IF EXISTS `paradoteo`;
CREATE TABLE `paradoteo`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ergo_id` int(10) UNSIGNED NOT NULL,
  `τιτλος` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `περιληψη` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL,
  `ημερομηνια_παραδοσης` date NOT NULL DEFAULT curdate(),
  PRIMARY KEY (`id`, `ergo_id`) USING BTREE,
  UNIQUE INDEX `idx_unique_id_par`(`id`) USING BTREE,
  INDEX `idx_id_ergo`(`ergo_id`) USING BTREE,
  CONSTRAINT `fk_id_ergo` FOREIGN KEY (`ergo_id`) REFERENCES `ergo` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT = 6 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of paradoteo
-- ----------------------------
BEGIN;
INSERT INTO `paradoteo` (`id`, `ergo_id`, `τιτλος`, `περιληψη`, `ημερομηνια_παραδοσης`) VALUES (1, 2, 'ΠΑΡΑΔΟΤΕΟ1', 'ΠΑΡΑΔΟΤΕΟ ΤΙ ΑΛΛΟ', '2022-06-01'), (2, 3, 'ΠΑΡΑΔΟΤΕΟ2', NULL, '2022-06-01'), (3, 4, 'ΠΑΡΑΔΟΤΕΟ3', NULL, '2022-06-01'), (4, 5, 'ΠΑΡΑΔΟΤΕΟ4', NULL, '2022-06-01'), (5, 6, 'ΠΑΡΑΔΟΤΕΟ5', NULL, '2022-06-01');
COMMIT;

-- ----------------------------
-- Table structure for pedio
-- ----------------------------
DROP TABLE IF EXISTS `pedio`;
CREATE TABLE `pedio`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ονομα` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  PRIMARY KEY (`id`) USING BTREE
) ENGINE = InnoDB AUTO_INCREMENT = 21 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of pedio
-- ----------------------------
BEGIN;
INSERT INTO `pedio` (`id`, `ονομα`) VALUES (1, 'ΑΝΘΡΟΠΟΛΟΓΙΑ'), (2, 'ΙΣΤΟΡΙΑ'), (3, 'ΑΡΧΑΙΟΛΟΓΙΑ'), (4, 'ΓΕΩΓΡΑΦΙΑ'), (5, 'ΟΙΚΟΝΟΜΙΚΑ'), (6, 'ΝΟΜΙΚΗ'), (7, 'ΕΚΠΑΙΔΕΥΣΗ'), (8, 'ΕΠΙΣΤΗΜΗ ΠΟΛΙΤΙΚΗΣ'), (9, 'ΕΠΙΣΤΗΜΗ ΤΩΝ ΥΠΟΛΟΓΙΣΤΩΝ'), (10, 'ΨΥΧΟΛΟΓΙΑ'), (11, 'ΜΑΘΗΜΑΤΙΚΑ'), (12, 'ΕΠΙΣΤΗΜΗ ΤΩΝ ΔΕΔΟΜΕΝΩΝ'), (13, 'ΣΤΑΤΙΣΤΙΚΗ'), (14, 'ΦΥΣΙΚΗ'), (15, 'ΧΗΜΕΙΑ'), (16, 'ΟΙΚΟΛΟΓΙΑ'), (17, 'ΙΑΤΡΙΚΗ'), (18, 'ΑΣΤΡΟΝΟΜΙΑ'), (19, 'ΒΙΟΛΟΓΙΑ'), (20, 'ΑΡΧΙΤΕΚΤΟΝΙΚΗ');
COMMIT;

-- ----------------------------
-- Table structure for programma
-- ----------------------------
DROP TABLE IF EXISTS `programma`;
CREATE TABLE `programma`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `τιτλος` varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `dieu_id` int(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_unique_id_prog`(`id`) USING BTREE,
  INDEX `idx_fk_id_dieu`(`dieu_id`) USING BTREE,
  CONSTRAINT `fk_dieu_id_prog` FOREIGN KEY (`dieu_id`) REFERENCES `dieuthinsi` (`id`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE = InnoDB AUTO_INCREMENT = 31 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of programma
-- ----------------------------
BEGIN;
INSERT INTO `programma` (`id`, `τιτλος`, `dieu_id`) VALUES (1, 'ΑΓΓΕΙΟ', 1), (2, 'ΑΕΡΟΒΙΟΣ', 5), (3, 'ΑΠΟΦΥΓΗ', 4), (4, 'ΑΥΤΟΤΡΟΦΟΣ', 2), (5, 'ΒΕΝΘΟΣ', 6), (6, 'ΒΙΟΓΕΩΓΡΑΦΙΑ', 3), (7, 'ΒΛΑΣΤΗΣΗ', 1), (8, 'ΕΡΕΘΙΣΤΙΚΟΤΗΤΑ', 5), (9, 'ΑΝΑΠΝΟΗ', 4), (10, 'ΟΙΚΟΓΕΝΕΙΑ', 2), (11, 'ΟΜΟΙΟΓΕΝΗΣ', 6), (12, 'ΑΛΥΣΙΔΑ', 3), (13, 'ΒΟΛΒΟΣ', 1), (14, 'ΔΡΥΠΗ', 4), (15, 'ΟΜΟΤΑΞΙΑ', 2), (16, 'ΡΑΓΑ', 3), (17, 'ΑΞΙΩΜΑ', 5), (18, 'ΑΝΕΞΑΡΤΗΣΙΑ', 6), (19, 'ΘΕΩΡΙΑ', 3), (20, 'ΑΝΑΓΩΓΗ', 1), (21, 'ΑΠΟΔΕΙΞΗ', 1), (22, 'ΚΑΘΑΡΑ', 2), (23, 'ΝΙΟΣΤΟΣ', 1), (24, 'ΣΥΝΤΕΛΕΣΤΗΣ', 4), (25, 'ΔΙΑΣΤΑΣΗ', 1), (26, 'ΣΧΕΤΙΚΟΤΗΤΑ', 1), (27, 'ΑΡΧΗ ΤΟΥ ΑΙΝΣΤΑΙΝ', 2), (28, 'ΦΑΙΝΟΜΕΝΟ', 2), (29, 'ΔΙΑΣΤΟΛΗ', 1), (30, 'ΠΑΡΑΔΟΞΟ', 2);
COMMIT;

-- ----------------------------
-- Table structure for stelexos
-- ----------------------------
DROP TABLE IF EXISTS `stelexos`;
CREATE TABLE `stelexos`  (
  `id` int(10) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ονομα` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `επωνυμο` varchar(45) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `φυλο` enum('ΑΡΡΕΝ','ΘΗΛΥ','ΑΛΛΟ') CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL,
  `ημερομηνια_γεννησης` date NOT NULL,
  `ηλικια` int(10) UNSIGNED GENERATED ALWAYS AS (timestampdiff(YEAR,`ημερομηνια_γεννησης`,'2022-06-01')) VIRTUAL,
  `dieu_id` int(10) UNSIGNED NOT NULL,
  PRIMARY KEY (`id`) USING BTREE,
  UNIQUE INDEX `idx_unique_id_stel`(`id`) USING BTREE,
  INDEX `idx_fk_id_dieu`(`dieu_id`) USING BTREE,
  CONSTRAINT `fk_dieu_id_stel` FOREIGN KEY (`dieu_id`) REFERENCES `dieuthinsi` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `dob_check` CHECK (`ημερομηνια_γεννησης` < '2004-06-01')
) ENGINE = InnoDB AUTO_INCREMENT = 16 CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci;

-- ----------------------------
-- Records of stelexos
-- ----------------------------
BEGIN;
INSERT INTO `stelexos` (`id`, `ονομα`, `επωνυμο`, `φυλο`, `ημερομηνια_γεννησης`, `dieu_id`) VALUES (1, 'ΔΙΟΜΗΔΗΣ', 'ΠΗΓΗΣ', 'ΑΡΡΕΝ', '1994-02-08', 2), (2, 'ΑΝΤΩΝΙΟΣ', 'ΓΚΟΥΜΑΣ', 'ΑΡΡΕΝ', '1990-09-14', 5), (3, 'ΣΤΑΥΡΟΣ', 'ΠΑΠΑΓΙΑΝΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1991-06-14', 6), (4, 'ΓΡΗΓΟΡΙΟΣ', 'ΚΑΛΛΙΜΑΝΟΠΟΥΛΟΣ', 'ΑΡΡΕΝ', '1985-07-07', 4), (5, 'ΚΩΝΣΤΑΝΤΙΝΟΣ', 'ΦΡΑΓΚΟΥΛΗΣ', 'ΑΡΡΕΝ', '1975-01-18', 3), (6, 'ΜΙΧΑΗΛ', 'ΛΑΜΠΙΡΗΣ', 'ΑΡΡΕΝ', '1972-10-06', 1), (7, 'ΑΛΕΞΑΝΔΡΟΣ', 'ΑΝΔΡΕΑΔΗΣ', 'ΑΡΡΕΝ', '1988-04-25', 5), (8, 'ΝΙΚΟΛΑΟΣ', 'ΤΡΑΓΑΚΗΣ', 'ΑΡΡΕΝ', '1987-12-31', 2), (9, 'ΣΤΑΥΡΟΣ', 'ΒΑΣΙΛΕΙΟΥ', 'ΑΡΡΕΝ', '1988-05-17', 3), (10, 'ΒΑΣΙΛΗΣ', 'ΜΑΝΤΖΑΒΙΝΟΣ', 'ΑΡΡΕΝ', '1983-02-01', 1), (11, 'ΠΑΝΑΓΙΩΤΗΣ', 'ΠΛΟΥΜΗΣ', 'ΑΡΡΕΝ', '1979-11-15', 1), (12, 'ΚΩΝΣΤΑΝΤΙΝΟΣ', 'ΚΟΜΝΗΝΟΣ', 'ΑΡΡΕΝ', '2001-03-11', 1), (13, 'ΑΛΕΞΑΝΔΡΑ', 'ΚΑΤΣΙΑΟΥΛΑ', 'ΘΗΛΥ', '1975-06-01', 1), (14, 'ΧΑΡΑΛΑΜΠΟΣ', 'ΤΣΟΥΡΟΥΓΙΑΝΝΗΣ', 'ΑΡΡΕΝ', '1984-07-28', 2), (15, 'ΕΛΕΝΗ', 'ΤΣΑΜΑΔΟΥ', 'ΘΗΛΥ', '1991-08-15', 2);
COMMIT;

-- ----------------------------
-- View structure for view1
-- ----------------------------
DROP VIEW IF EXISTS `view1`;
CREATE ALGORITHM = UNDEFINED SQL SECURITY DEFINER VIEW `view1` AS select ereunitis.id, ereunitis.ονομα, ereunitis.επωνυμο, ereunitis.φυλο, ereunitis.ηλικια, group_concat(ergo.τιτλος SEPARATOR ', ') as εργα
from ereunitis
left outer join ergo_ereu l on l.ereu_id=ereunitis.id
inner join ergo on ergo.id=l.ergo_id
group by ereunitis.id ;

-- ----------------------------
-- View structure for view2
-- ----------------------------
DROP VIEW IF EXISTS `view2`;
CREATE ALGORITHM = UNDEFINED SQL SECURITY DEFINER VIEW `view2` AS select pedio.ονομα, group_concat(ergo.τιτλος SEPARATOR ', ') as εργα
from pedio
left outer join ergo_pedio l on pedio.id=l.pedio_id
inner join ergo on l.ergo_id=ergo.id and ergo.ενεργο = 1
group by pedio.ονομα ;

-- ----------------------------
-- Function structure for org_erga_in_year
-- ----------------------------
DROP FUNCTION IF EXISTS `org_erga_in_year`;
delimiter ;;
CREATE FUNCTION `org_erga_in_year`(`year1` year, orgid int)
 RETURNS int(11)
BEGIN
	#Routine body goes here...
	DECLARE result int;
	SELECT COUNT(ergo.id) into result
	FROM ergo
	INNER JOIN organismos on organismos.id=ergo.org_id and organismos.id = orgid
	WHERE YEAR(ergo.`ημερομηνια_εναρξης`) = year1;

	RETURN result;
END
;;
delimiter ;

-- ----------------------------
-- Triggers structure for table ergo
-- ----------------------------
DROP TRIGGER IF EXISTS `date_fix`;
delimiter ;;
CREATE TRIGGER `date_fix` AFTER UPDATE ON `ergo` FOR EACH ROW BEGIN
IF (old.`ημερομηνια_ληξης` != new.`ημερομηνια_ληξης`)
THEN
	UPDATE `ergo`
		SET `διαρκεια` = timestampdiff(YEAR,new.`ημερομηνια_εναρξης`,ifnull(new.`ημερομηνια_ληξης`,'2022-06-01')),
				`ενεργο` = ISNULL(new.`ημερομηνια_ληξης`)
	WHERE id = old.id;
END IF;
END
;;
delimiter ;

SET FOREIGN_KEY_CHECKS = 1;
